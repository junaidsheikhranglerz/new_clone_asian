@model List<ranglerz_project.Models.Employee>


@{
    ViewBag.Title = "ViewEmployees";

    int empAdd = Convert.ToInt32 (Session["employee_add"]);
    int empEdit = Convert.ToInt32 (Session["employee_edit"]);
    int empDelete = Convert.ToInt32 (Session["employee_delete"]);
}











    <div class="container body">


        <div class="main_container">

            @{
                Html.RenderPartial("_Partial");
            }

            <!-- top navigation -->
            <!-- /top navigation -->
            <!-- page content -->
            <div class="right_col col-md-10 pull-right" role="main">
                <div class="">
                    <div class="page-title">
                        <div class="title_left">
                            <h3>
                                All Employees
                            </h3>
                        </div>


                    </div>
                    <div class="clearfix"></div>

                    <div class="row">

                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>View Employee list</h2>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <table id="example" class="table table-striped responsive-utilities jambo_table">
                                        <thead>
                                            <tr class="headings">

                                                <th>Name </th>
                                                <th>City </th>
                                                <th>Phone</th>
                                                <th>Picture </th>
                                                <th>Status </th>
                                                <th>Location</th>
                                                <th>CNIC</th>
                                                <th>Action</th>

                                            </tr>
                                        </thead>

                                        <tbody>

                                            @foreach (var v in Model)
                                            {
                                                <tr class="even pointer">


                                                    <td class=" ">@v.Name</td>
                                                    <td class=" ">@v.City </td>
                                                    <td>@v.phone</td>
                                                    <td class=" ">
                                                        @{
                                                var Base64 = Convert.ToBase64String(v.image_);
                                                var imgsrc = string.Format("data:img/gif;base64,{0}", Base64);
                                                        }
                                                        <img src="@imgsrc" style="max-height:100px; max-width:100px;" />
                                                    </td>
                                                    @if (v.is_active == "Y")
                                                    {
                                                        <td>Active</td>
                                                    }
                                                    else
                                                    {
                                                        <td>Deactive</td>
                                                    }
                                                    <td>@v.location</td>
                                                    <td>@v.cnic</td>




                                                    <td>
                                                        @if(empEdit ==1)
                                                        { 
                                                        <a href="~/Employee/Edit/@v.Id/">Update</a> <label></label>
                                                         }
                                                        @if(empDelete ==1)
                                                        {
                                                        <a href="~/Employee/Delete/@v.Id/" onclick="return confirm('Are you sure you want to Delete?')">Delete</a><label></label>
                                                        }
                                                        <a href="~/Employee/Detail/@v.Id/">View Detail</a>
                                                    </td>


                                                </tr>
                                            }


                                        </tbody>

                                    </table>

                                </div>


                            </div>
                        </div>

                        <br />
                        <br />
                        <br />

                    </div>
                    <br />
                    <br />
                    @if(empAdd ==1)
                    { 
                    <a class="btn-success  actionBar" href="~/Employee/Create/">Create Employee</a>
                    }
                </div>

            </div>
            <!-- /page content -->
        </div>

    </div>


    <script type="text/javascript">
        function confirm_delete() {
            return confirm('are you sure?');
        }
    </script>
